{% extends 'layout.html.twig' %}

{% block body %}
    <div class="news-list-container">
        {% include 'component/flashes.html.twig' %}

        <div>
            <h3>News</h3>

            <div class="accordion" id="info-panel">
                {% for info in news|reverse %}
                    <div class="accordion-item">
                        <h4 class="accordion-header" id="news{{ loop.index }}header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#news{{ loop.index }}body" aria-expanded="false" aria-controls="news{{ loop.index }}body">
                                {{ info.title }}
                            </button>
                        </h4>
                        <div id="news{{ loop.index }}body" class="accordion-collapse collapse" aria-labelledby="news{{ loop.index }}header">
                            <div class="accordion-body">
                                {{ info.description }}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        <hr>

        <div>
            <h3>{{ 'page.newsManaging.add.header'|trans }}</h3>
            {{ form_start(form, {'action': path('app_admin_news_add')}) }}
                {{ form_row(form.title, {'label': 'page.newsManaging.add.form.title'|trans}) }}
                {{ form_row(form.description, {'label': 'page.newsManaging.add.form.description'|trans}) }}

                <div id="register-button-container" class="d-flex justify-content-center">
                    {{ form_row(form.submit, {'attr': {'class': 'btn btn-lg btn-primary'}, 'label': 'page.newsManaging.add.form.submitButton'|trans}) }}
                </div>
            {{ form_end(form) }}
        </div>

    </div>
{% endblock %}